{"version":3,"sources":["../../lib/10.js"],"names":["getJSON","url","promise","Promise","resolve","reject","client","XMLHttpRequest","open","onreadystatechange","handler","responseType","setRequestHeader","send","readyState","status","response","Error","statusText","then","json","console","log","error"],"mappings":"AAAA;;AAEA;;;;AAGA,IAAIA,UAAU,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAClC,MAAIC,UAAU,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACnD,QAAIC,SAAS,IAAIC,cAAJ,EAAb;AACAD,WAAOE,IAAP,CAAY,KAAZ,EAAmBP,GAAnB;AACAK,WAAOG,kBAAP,GAA4BC,OAA5B;AACAJ,WAAOK,YAAP,GAAsB,MAAtB;AACAL,WAAOM,gBAAP,CAAwB,QAAxB,EAAkC,kBAAlC;AACAN,WAAOO,IAAP;;AAEA,aAASH,OAAT,GAAmB;AACjB,UAAI,KAAKI,UAAL,KAAoB,CAAxB,EAA2B;AACzB;AACD;AACD,UAAI,KAAKC,MAAL,KAAgB,GAApB,EAAyB;AACvBX,gBAAQ,KAAKY,QAAb;AACD,OAFD,MAEO;AACLX,eAAO,IAAIY,KAAJ,CAAU,KAAKC,UAAf,CAAP;AACD;AACF;AACF,GAlBa,CAAd;;AAoBA,SAAOhB,OAAP;AACD,CAtBD;;AAwBAF,QAAQ,sBAAR,EAAgCmB,IAAhC,CAAqC,UAAUC,IAAV,EAAgB;AACnDC,UAAQC,GAAR,CAAY,eAAeF,IAA3B;AACD,CAFD,EAEG,UAAUG,KAAV,EAAiB;AAClBF,UAAQE,KAAR,CAAc,KAAd,EAAqBA,KAArB;AACD,CAJD","file":"10.js","sourcesContent":["\"use strict\";\n\n/**\r\n * Created by sks on 2017/4/26.\r\n */\nvar getJSON = function getJSON(url) {\n  var promise = new Promise(function (resolve, reject) {\n    var client = new XMLHttpRequest();\n    client.open(\"GET\", url);\n    client.onreadystatechange = handler;\n    client.responseType = \"json\";\n    client.setRequestHeader(\"Accept\", \"application/json\");\n    client.send();\n\n    function handler() {\n      if (this.readyState !== 4) {\n        return;\n      }\n      if (this.status === 200) {\n        resolve(this.response);\n      } else {\n        reject(new Error(this.statusText));\n      }\n    };\n  });\n\n  return promise;\n};\n\ngetJSON(\"/20170426/posts.json\").then(function (json) {\n  console.log('Contents: ' + json);\n}, function (error) {\n  console.error('出错了', error);\n});"]}